import { BaseEntity, EntitySchema } from "typeorm";

import { tables } from "#constants";

export default class {{UpperCaseNameSingle}} extends BaseEntity {
  constructor({ id, createdAt, updatedAt }) {
    super();
    this.id = id;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }

  static get schema() {
    return new EntitySchema({
      name: {{UpperCaseNameSingle}}.name,
      //TODO add to table
      tableName: tables.{{LowerCaseNameSingle}},
      columns: {
        id: {
          type: "uuid",
          primary: true,
          generated: "uuid",
        },
        createdAt: {
          name: "created_at",
          type: "timestamp",
          default: () => "CURRENT_TIMESTAMP",
        },
        updatedAt: {
          name: "updated_at",
          type: "timestamp",
          default: () => "CURRENT_TIMESTAMP",
        },
      },
    });
  }
}